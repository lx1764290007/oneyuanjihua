<!--
 * @Author: VC
 * @Date: 2020-12-21 15:30:18
 * @LastEditTime: 2020-12-22 14:10:37
 * @FilePath: /一元计划/index.html
-->

<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">

        <meta name="author" content="一元计划" />

        <!-- 忽略数字和邮箱 -->
        <meta name="format-detection" content="telphone=no, email=no" />
        <!-- window phone 点击屏幕无高光 -->
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- uc竖屏 -->
        <meta name="screen-orientation" content="portrait" />
        <!-- x5内核竖屏 -->
        <meta name="x5-orientation" content="portrait" />
        <meta name="baidu-site-verification" content="XRSTUKvhkM" />
        <!--'国产'浏览器高速模式-->
        <meta name="renderer" content="webkit" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />

        <meta name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,user-scalable=no, viewport-fit=cover" />
        <link rel="shortcut icon" href="./favicon.ico">
        <link href="https://cdn.bootcdn.net" rel="dns-prefetch">
        <link href="https://cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="static/css/bg.css" />
        <link rel="stylesheet" href="static/css/animate.css" />
        <link rel="stylesheet" href="static/css/button.css" />
        <title>一元计划</title>
        <script src="https://cdn.bootcdn.net/ajax/libs/lottie-web/5.7.5/lottie.min.js" defer></script>
        <link rel="prerender" href="./page.html">
        <link rel="next" href="./page.html">
    </head>

    <body>
        <div id="fog"> </div>
        <div id="clound"> </div>
        <div id="mountain"></div>
        <div id="grass"></div>
        <div id="box"></div>
        <div id="tape"></div>
        <div id="childs"></div>
        <div id="fall-down"></div>
        <div id="page">

        </div>
        <div id="next-page">page2</div>

        <script>
            //初始化容器高度
            document.querySelector('body').style.height = window.innerHeight + 'px';
            //跳转按钮监听
            document.getElementById('next-page').addEventListener('click', function (params) {
                const nextPage = lottie.loadAnimation({
                    container: document.querySelector("#page"), // the dom element that will contain the animation
                    renderer: 'svg',
                    loop: false,
                    autoplay: true,
                    path: './static/json/page/跳转第二页效果/渐隐为白后又显示 1秒.json' // the path to the animation json
                });
                nextPage.addEventListener('complete', function (params) {
                    window.location.href = './page.html'
                })

            })
            class StartAnimate {
                constructor() {

                }
                box() {

                    const box = lottie.loadAnimation({
                        container: document.querySelector("#box"), // the dom element that will contain the animation
                        renderer: 'svg',
                        loop: false,
                        autoplay: true,
                        path: './static/json/盒子/盒子.json' // the path to the animation json
                    });

                }
                tape() {

                    const tape = lottie.loadAnimation({
                        container: document.querySelector("#tape"), // the dom element that will contain the animation
                        renderer: 'svg',
                        loop: true,
                        autoplay: true,
                        path: './static/json/盒子/带子.json' // the path to the animation json
                    })

                }
                fallDown() {
                    const fallDown = lottie.loadAnimation({
                        container: document.querySelector("#fall-down"), // the dom element that will contain the animation
                        renderer: 'svg',
                        loop: false,
                        autoplay: true,
                        path: './static/json/建筑物掉落/建筑物掉落.json' // the path to the animation json
                    });

                }
                fog() {
                    const fog = lottie.loadAnimation({
                        container: document.querySelector("#fog"), // the dom element that will contain the animation
                        renderer: 'svg',
                        loop: false,
                        autoplay: true,
                        path: './static/json/云雾/云雾效果 3.json' // the path to the animation json
                    });

                }

                clound() {
                    const clound = lottie.loadAnimation({
                        container: document.querySelector("#clound"), // the dom element that will contain the animation
                        renderer: 'svg',
                        loop: true,

                        autoplay: true,
                        path: './static/json/后边云雾/后边云雾.json' // the path to the animation json
                    });

                }

            }
            window.onload = function () {
                const animate = new StartAnimate();
                animate.fog();
                animate.clound();
                setTimeout(() => {
                    animate.fallDown();
                    animate.box();
                    animate.tape();
                }, 600);

            }
        </script>
    </body>

</html>